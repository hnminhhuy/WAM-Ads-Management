<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="/public/css/new_nav.css" />
        <link rel="stylesheet" href="/public/css/main.css" />
        <link rel="stylesheet" href="/public/css/department_main.css" />
        <link rel="stylesheet" href="/public/css/department_dashboard.css" />
    </head>

    <body>
        <div class="toggle-button">
            <div class="vertical-line"></div>
            <div class="vertical-line"></div>
        </div>
        <div class="navbar close-nav">
            <div class="logo-area">
                <img src="/public/images/logo.svg" alt="logo" />
                <p>WAM</p>
            </div>
            <div class="nav-list">
                <a href="#" class="nav-item active">
                    <img
                        src="/public/images/navIcon/dashboard.svg"
                        alt="dashboard"
                    />
                    <p>Trang chủ</p>
                </a>
                <a href="#" class="nav-item">
                    <img src="/public/images/navIcon/ads.svg" alt="ads" />
                    <p>Quản lý quảng cáo</p>
                </a>
                <a href="#" class="nav-item">
                    <img
                        src="/public/images/navIcon/feedback.svg"
                        alt="feedback"
                    />
                    <p>Phản ánh</p>
                </a>
                <a href="#" class="nav-item">
                    <img src="/public/images/navIcon/area.svg" alt="area" />
                    <p>Khu vực</p>
                </a>
                <a href="#" class="nav-item">
                    <img src="/public/images/navIcon/label.svg" alt="label" />
                    <p>Phân loại</p>
                </a>

                <a href="#" class="nav-item">
                    <img
                        src="/public/images/navIcon/deligate.svg"
                        alt="deligate"
                    />
                    <p>Nhân sự</p>
                </a>
            </div>

            <div class="acc-area">
                <img src="/public/images/navIcon/account.svg" alt="account" />
                <div class="user">
                    <p>Ông Thập</p>
                    <p>Làng địa ngục</p>
                </div>
                <i class="bi bi-box-arrow-in-right button"></i>
            </div>
        </div>
        <div class="main-content">
            <div class="title">
                <h1>SỐ LIỆU THỐNG KÊ</h1>
            </div>
            <div class="content">
                <div class="month-report">
                    <div class="subtitle">
                        <h3>Thống kê theo tháng</h3>
                    </div>
                    <div class="report-container">
                        <div class="report-card">
                            <p>Số lượng phản ánh</p>
                            <div class="report-card-amount">1,345</div>
                            <div
                                class="percent"
                                style="
                                    background-color: var(--report-card-down);
                                "
                            >
                                <img
                                    src="/public/images/down-arrow.svg"
                                    alt="arrow-up"
                                />
                                <p>5%</p>
                            </div>
                        </div>
                        <div class="report-card">
                            <p>Số lượng phản ánh</p>
                            <div class="report-card-amount">1,345</div>
                            <div
                                class="percent"
                                style="background-color: var(--report-card-up)"
                            >
                                <img
                                    src="/public/images/up-arrow.svg"
                                    alt="arrow-up"
                                />
                                <p>5%</p>
                            </div>
                        </div>
                        <div class="report-card">
                            <p>Số lượng phản ánh</p>
                            <div class="report-card-amount">1,345</div>
                            <div
                                class="percent"
                                style="
                                    background-color: var(
                                        --report-card-noChange
                                    );
                                "
                            >
                                <img
                                    src="/public/images/noChange-arrow.svg"
                                    alt="arrow-up"
                                />
                                <p>5%</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="doughnut-report">
                    <div class="subtitle">
                        <h3>Thông kê theo loại phản ánh</h3>
                        <div class="date-range">
                            <label for="startDate"></label>
                            <input
                                type="date"
                                id="startDate"
                                name="startDate"
                            />
                            <span></span>
                            <label for="endDate"></label>
                            <input type="date" id="endDate" name="endDate" />
                        </div>
                    </div>
                    <div class="chart-display">
                        <div class="chart-container">
                            <div class="total">1,345</div>
                            <canvas id="chart"></canvas>
                        </div>

                        <div class="detail-container">
                            <div
                                style="
                                    position: sticky;
                                    top: 0;
                                    background-color: rgb(249, 250, 253);
                                    width: 100%;
                                    z-index: 2;
                                    padding-top: 15px;
                                "
                            >
                                <h4>Chi tiết</h4>
                                <p>Số lượng và tỉ lệ hoàn thành</p>
                            </div>
                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rgb(38, 32, 88)">
                                        Đóng góp ý kiến
                                    </p>
                                    <p>390</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (65 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">65%</div>
                                </div>
                            </div>

                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rgb(79, 62, 215)">
                                        Giải đáp thắc mắc
                                    </p>
                                    <p>336</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (90 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">90%</div>
                                </div>
                            </div>

                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rgb(183, 203, 191)">
                                        Đăng ký thông tin
                                    </p>
                                    <p>202</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (80 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">80%</div>
                                </div>
                            </div>

                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rrgb(207, 149, 19)">
                                        Tố cáo sai phạm
                                    </p>
                                    <p>416</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (65 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">65%</div>
                                </div>
                            </div>

                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rrgb(207, 149, 19)">
                                        Tố cáo sai phạm
                                    </p>
                                    <p>416</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (65 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">65%</div>
                                </div>
                            </div>
                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rrgb(207, 149, 19)">
                                        Tố cáo sai phạm
                                    </p>
                                    <p>416</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (65 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">65%</div>
                                </div>
                            </div>
                            <div class="detail">
                                <div class="detail-amount">
                                    <p style="color: rrgb(207, 149, 19)">
                                        Tố cáo sai phạm
                                    </p>
                                    <p>416</p>
                                </div>
                                <div class="circle-container">
                                    <svg
                                        width="80"
                                        height="80"
                                        style="
                                            stroke-dashoffset: calc(
                                                219.911 - (65 / 100) * 219.911
                                            );
                                        "
                                    >
                                        <circle cx="40" cy="40" r="35"></circle>
                                    </svg>
                                    <div class="percentage-text">65%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script>
                        const ctx = document.getElementById("chart");

                        new Chart(ctx, {
                            type: "doughnut",
                            data: {
                                labels: [
                                    "Đóng góp ý kiến",
                                    "Giải đáp thắc mắc",
                                    "Đăng ký thông tin",
                                    "Tố cáo sai phạm",
                                ],
                                datasets: [
                                    {
                                        label: "Phần trăm",
                                        data: [29, 25, 31, 15],
                                        backgroundColor: [
                                            "rgb(38, 32, 88)",
                                            "rgb(79, 62, 215)",
                                            "rgb(183, 203, 191)",
                                            "rgb(207, 149, 19)",
                                        ],
                                        hoverOffset: 4,
                                    },
                                ],
                            },
                            options: {
                                borderJoinStyle: "round",
                                borderRadius: 10,
                                hoverBorderWidth: 8,
                                borderWidth: 5,
                                plugins: {
                                    legend: false,
                                },
                                animation: {
                                    animateScale: true,
                                    animateRotate: true,
                                },
                            },
                        });
                    </script>
                </div>
            </div>
        </div>

        <script>
            function left() {
                line = document.querySelectorAll(".vertical-line");
                line[0].style.transform =
                    "translateY(0.15rem) rotate(15deg) translateZ(0px)";
                line[1].style.transform =
                    "translateY(-0.15rem) rotate(-15deg) translateZ(0px)";
            }

            function right() {
                line = document.querySelectorAll(".vertical-line");
                line[0].style.transform =
                    "translateY(0.15rem) rotate(-15deg) translateZ(0px)";
                line[1].style.transform =
                    "translateY(-0.15rem) rotate(15deg) translateZ(0px)";
            }

            function line() {
                line = document.querySelectorAll(".vertical-line");
                line[0].style.transform =
                    "translateY(0.15rem) rotate(0) translateZ(0px)";
                line[1].style.transform =
                    "translateY(-0.15rem) rotate(0) translateZ(0px)";
            }

            document
                .querySelector(".toggle-button")
                .addEventListener("mouseover", () => {
                    if (
                        document
                            .querySelector(".navbar")
                            .classList.contains("close-nav")
                    ) {
                        right();
                    } else {
                        left();
                    }
                });

            document
                .querySelector(".toggle-button")
                .addEventListener("mouseout", line);

            document
                .querySelector(".toggle-button")
                .addEventListener("click", () => {
                    if (
                        document
                            .querySelector(".navbar")
                            .classList.contains("close-nav")
                    ) {
                        document
                            .querySelector(".navbar")
                            .classList.remove("close-nav");
                        document.querySelector(".navbar").style.width =
                            "var(--nav-bar-width-expand)";
                        document.querySelector(
                            ".main-content"
                        ).style.marginLeft = "var(--nav-bar-width-expand)";
                        document.querySelector(".main-content").style.width =
                            "width: calc(100vw - var(--nav-bar-width-expand));";
                        document.querySelector(".toggle-button").style.left =
                            "270px";
                    } else {
                        document
                            .querySelector(".navbar")
                            .classList.add("close-nav");
                        document.querySelector(".navbar").style.width =
                            "var(--nav-bar-width)";
                        document.querySelector(
                            ".main-content"
                        ).style.marginLeft = "var(--nav-bar-width)";
                        document.querySelector(".main-content").style.width =
                            "width: calc(100vw - var(--nav-bar-width));";
                        document.querySelector(".toggle-button").style.left =
                            "90px";
                        right();
                    }
                });
        </script>
    </body>
</html>
