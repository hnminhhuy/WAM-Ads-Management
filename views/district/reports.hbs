<div>
<div class="container mt-5"style="padding-left: 5%">
<h2>{{name}}</h2>
<hr>

<div class="tab-bar">
  <button class="tab-btn tab-btn-active" target="req_create">Bảng quảng cáo</button>
  <button class="tab-btn" target="req_update">Vị trí khác</button>
</div>


<div class="toolbar">
  <div style="display: flex;">
    <form class="col-lg-4 mb-3 mb-lg-0 me-lg-3" role="search" onsubmit="event.preventDefault();">
      <input type="search" class="form-control" placeholder="Search..." id='keyword' aria-label="Search"
        oninput="search(this.value)" required>
    </form>
    <select style="width: 200px" id="typeSelect" class="form-select" aria-label="Default select example" onchange="">
      <option selected>Mục đích</option>
      <option value="1">Tố giác tội phạm</option>
      <option value="2">Giải đáp thắc mắc</option>
      <option value="3">Đóng góp ý kiến</option>
      <option value="4">Đăng ký nội dung</option>
    </select>
    <select style="width: 200px" id="methodSelect" class="form-select" aria-label="Default select example" onchange="">
      <option selected>Trạng thái</option>
      <option value="1">Chưa giải quyết</option>
      <option value="2">Đã giải quyết</option>
    </select>
  </div>
        <div>
          
        </div>
    </div>
    <hr>

  <table class="table table-striped table-hover table-bordered rounded-table" id="current-location">
    <thead>
      <tr>
        {{#each heading}}
          <th scope="col">{{this}}</th>
        {{/each}}
      </tr>
    </thead>

    <tbody id="tableBody">
      {{#each collapsible_row}}
        {{> collapsible_row}}
      {{/each}}
    </tbody>
  </table>


  <table class="table table-striped table-hover table-bordered rounded-table collapse" id="other-location">
    <thead>
      <tr>
        {{#each other_heading}}
          <th scope="col">{{this}}</th>
        {{/each}}
      </tr>
    </thead>

    <tbody id="tableBody">
      {{#each other_collapsible_row}}
        {{> collapsible_row}}
      {{/each}}
    </tbody>
  </table>

</div>
</div>

<script>
  function search(keyword) {
  const rows = document.querySelectorAll('#tableBody tr');
  const filter = keyword.toUpperCase();
  rows.forEach(row => {
    let found = false;
    row.querySelectorAll('td').forEach(cell => {
      if (cell.textContent.toUpperCase().includes(filter)) {
        found = true;
      }
    });
    if (found) {
      row.style.display = '';
    } else {
      row.style.display = 'none';
    }
  });
}

</script>

<script
  src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
  integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
  integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
  crossorigin="anonymous"
></script>

<script>

  const tab_btn = document.querySelectorAll(".tab-btn");
  const current_location = document.querySelector('#current-location')
  const other_location = document.querySelector('#other-location')

  tab_btn[0].addEventListener("click", () => {
    tab_btn[0].classList.add("tab-btn-active");
    tab_btn[1].classList.remove("tab-btn-active");
    current_location.classList.remove("collapse");
    other_location.classList.add("collapse");
});

tab_btn[1].addEventListener("click", () => {
    tab_btn[1].classList.add("tab-btn-active");
    tab_btn[0].classList.remove("tab-btn-active");
    other_location.classList.remove("collapse");
    current_location.classList.add("collapse");
});

</script>